<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>סיפרייה</title>
	<style>
		table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 5px;
    	}
    	th, td {
        border: 1px solid #333;
        padding: 2px;
        text-align: right;
    	}
		h1 {
			text-align: center;
		}
		p {
			font-weight: bold;
			font-size: 32px;
		}
		th, td, ul {
			font-size: 25px;
		}
		button {
			font-size: 35px;
		}
		input[type="number"] {
			font-size: 25px;    
			width: 40px;        
			padding: 2px;
		}
		.color-box {
			display: inline-block;
			width: 12px;
			height: 12px;
			margin-left: 8px; 
			border: 1px solid #ccc; 
			vertical-align: middle;
			border-radius: 2px; 
		}
		@media (max-width: 600px) {
			th, td, p, input[type="number"], ul {
				font-size: 18px;
			}
			button {
				font-size: 28px;
				width: 90%;
			}
			table {
				width: 100%;
				display: block;
				overflow-x: auto;
			}
		}
	</style>    
</head>
<body>
    <h1>הזמנת ספרים:</h1>   

    <form method="POST" action="{{ url_for('place_order') }}">
	{% for myBookType in items %} 
			<p>{{myBookType.book_type}}</p>
			<table>
				<thead>
					<tr>
						<th>שם</th>
						<th>מחיר</th>
						<th>כמות במלאי</th>
						<th>כמות להזמנה:</th>
					</tr>
				</thead>
				<tbody>
					{% for book in myBookType.books %}
						<tr>
							{% if book.stock_quantity == '' %}
								<th>{{book.name}}</th>
							{% else %}
								<td>
									{% if book.color != '' %}
        							<span class="color-box" style="background-color: {{book.color}};"></span>
    								{% endif %}
									{{book.name}}
								</td>
							{% endif %}
							<td>{{book.price}}</td>
							<td>{{book.stock_quantity}}</td>
							<td>
							{% if book.stock_quantity != '' %}
								<input type="number" 
									id="quantity" 
									name="quantities[]" 
									value="0"
									min="0" 
									max={{book.stock_quantity}}
									required>
								<input type="hidden" name="book_types[]" value="{{ myBookType.book_type }}">
								<input type="hidden" name="book_names[]" value="{{ book.name }}">
								<input type="hidden" name="book_prices[]" value="{{ book.price }}">
							{% endif %}
							</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		{% endfor %}
	<br><br>
	<div style="text-align: center;">
    <button type="submit">עבור להזמנה</button>
	</div>
    </form>

    <ul>
        <li><a href="{{ url_for('home') }}">חזרה לדף ראשי</a></li>
    </ul>
</body>

</html>

